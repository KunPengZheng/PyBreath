import pickle
import pprint

"""
è¾“å…¥å’Œè¾“å‡º
"""


# è¯»å–é”®ç›˜è¾“å…¥
def input_demo():
    input_str = input("è¯·è¾“å…¥ï¼š")
    print("ä½ è¾“å…¥çš„å†…å®¹æ˜¯: ", input_str)
    pass


# å†™å…¥å†…å®¹åˆ°æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ä¸­
# å¦‚æœè¦å†™å…¥ä¸€äº›ä¸æ˜¯å­—ç¬¦ä¸²çš„ä¸œè¥¿, é‚£ä¹ˆå°†éœ€è¦å…ˆè¿›è¡Œè½¬æ¢
def write_demo():
    # æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼ŒğŸ‘‡çš„è·¯å¾„æ˜¯åœ¨macä¸Šé¢çš„è·¯å¾„ï¼Œusernameéœ€è¦æ›¿æ¢ä¸ºä½ è¿™å°macè®¾ç½®çš„è´¦å·
    # å‚æ•°ä¸€ï¼šæ–‡ä»¶è·¯å¾„
    # å‚æ•°äºŒï¼šmodeï¼šå†³å®šäº†æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ï¼šåªè¯»ï¼Œå†™å…¥ï¼Œè¿½åŠ ç­‰ã€‚æ‰€æœ‰å¯å–å€¼è§å¦‚ä¸‹çš„å®Œå…¨åˆ—è¡¨ã€‚è¿™ä¸ªå‚æ•°æ˜¯éå¼ºåˆ¶çš„ï¼Œé»˜è®¤æ–‡ä»¶è®¿é—®æ¨¡å¼ä¸ºåªè¯»(r)ã€‚
    f = open("/Users/ykwl/Desktop/foo.txt", "w")
    f.write("Python æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„è¯­è¨€ã€‚\næ˜¯çš„ï¼Œçš„ç¡®éå¸¸å¥½!!\n")
    # å…³é—­æ‰“å¼€çš„æ–‡ä»¶
    # åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­ (é‚£äº›æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ä¸‹æ²¡æœ‰ b çš„), åªä¼šç›¸å¯¹äºæ–‡ä»¶èµ·å§‹ä½ç½®è¿›è¡Œå®šä½ã€‚å½“ä½ å¤„ç†å®Œä¸€ä¸ªæ–‡ä»¶å, è°ƒç”¨ f.close() æ¥å…³é—­
    # æ–‡ä»¶å¹¶é‡Šæ”¾ç³»ç»Ÿçš„èµ„æºï¼Œå¦‚æœå°è¯•å†è°ƒç”¨è¯¥æ–‡ä»¶ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ä¸è¿‡ä¸€èˆ¬æ— è®ºæ¨¡å¼æ˜¯ä¸æ˜¯béƒ½è°ƒç”¨close
    f.close()


# è¯»å–æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ä¸­çš„å†…å®¹
def read_demo():
    f = open("/Users/ykwl/Desktop/foo.txt", "r")

    # read(size), è¿™å°†è¯»å–ä¸€å®šæ•°ç›®çš„æ•°æ®, ç„¶åä½œä¸ºå­—ç¬¦ä¸²æˆ–å­—èŠ‚å¯¹è±¡è¿”å›ã€‚
    # size æ˜¯ä¸€ä¸ªå¯é€‰çš„æ•°å­—ç±»å‹çš„å‚æ•°ã€‚ å½“ size è¢«å¿½ç•¥äº†æˆ–è€…ä¸ºè´Ÿ, é‚£ä¹ˆè¯¥æ–‡ä»¶çš„æ‰€æœ‰å†…å®¹éƒ½å°†è¢«è¯»å–å¹¶ä¸”è¿”å›ã€‚
    # read_str = f.read()
    # print(read_str)

    # f.readline() ä¼šä»æ–‡ä»¶ä¸­è¯»å–å•ç‹¬çš„ä¸€è¡Œã€‚æ¢è¡Œç¬¦ä¸º '\n'ã€‚f.readline() å¦‚æœè¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸², è¯´æ˜å·²ç»å·²ç»è¯»å–åˆ°æœ€åä¸€è¡Œã€‚
    read_str = f.readline()
    # f.tell() è¿”å›æ–‡ä»¶å¯¹è±¡å½“å‰æ‰€å¤„çš„ä½ç½®, å®ƒæ˜¯ä»æ–‡ä»¶å¼€å¤´å¼€å§‹ç®—èµ·çš„å­—èŠ‚æ•°ã€‚
    tell = f.tell()
    print("è¯»å–: " + read_str + ", tell: " + str(tell))

    # f.readlines() å°†è¿”å›è¯¥æ–‡ä»¶ä¸­åŒ…å«çš„æ‰€æœ‰è¡Œçš„æ•°ç»„ã€‚å¦‚æœè®¾ç½®å¯é€‰å‚æ•° sizehint, åˆ™è¯»å–æŒ‡å®šé•¿åº¦çš„å­—èŠ‚, å¹¶ä¸”å°†è¿™äº›å­—èŠ‚æŒ‰è¡Œåˆ†å‰²ã€‚
    # read_str = f.readlines()
    # print(read_str)

    # è¿­ä»£ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ç„¶åè¯»å–æ¯è¡Œ
    # for line in f:
    #     print(line, end='')

    f.close()


"""
f.seek()ï¼šæ”¹å˜æ–‡ä»¶æŒ‡é’ˆå½“å‰çš„ä½ç½® 

å‚æ•°äºŒwhenceï¼š 0 è¡¨ç¤ºå¼€å¤´ï¼ˆé»˜è®¤å€¼ï¼‰, 1 è¡¨ç¤ºå½“å‰ä½ç½®, 2 è¡¨ç¤ºæ–‡ä»¶çš„ç»“å°¾ï¼Œä¾‹å¦‚ï¼š
    seek(x,0) ï¼š ä»èµ·å§‹ä½ç½®å³æ–‡ä»¶é¦–è¡Œé¦–å­—ç¬¦å¼€å§‹ç§»åŠ¨ x ä¸ªå­—ç¬¦
    seek(x,1) ï¼š è¡¨ç¤ºä»å½“å‰ä½ç½®å¾€åç§»åŠ¨xä¸ªå­—ç¬¦
    seek(-x,2)ï¼š è¡¨ç¤ºä»æ–‡ä»¶çš„ç»“å°¾å¾€å‰ç§»åŠ¨xä¸ªå­—ç¬¦

"""


def seek_demo():
    # æ³¨æ„è¿™é‡Œçš„æ¨¡å¼æ˜¯æœ‰bçš„ï¼Œæ‰€ä»¥å¯ä»¥ä¸ç”¨close
    f = open("/Users/ykwl/Desktop/foo.txt", "rb+")
    f.write(b'0123456789abcdef')
    # ç§»åŠ¨åˆ°è§’æ ‡5çš„å­—èŠ‚
    seek = f.seek(5)
    read = f.read(1)
    # æ‰“å°ç»“æœï¼šseek: 5, read: b'5'
    print("seek: " + str(seek) + ", read: " + str(read))
    seek = f.seek(-3, 2)  # ç§»åŠ¨åˆ°æ–‡ä»¶çš„å€’æ•°ç¬¬ä¸‰å­—èŠ‚
    read = f.read(1)
    # æ‰“å°ç»“æœï¼šseek: 13, read: b'd'
    print("seek: " + str(seek) + ", read: " + str(read))


# with as ï¼šè‡ªåŠ¨å…³é—­æ–‡ä»¶
def with_as_demo():
    with open("/Users/ykwl/Desktop/foo.txt", "r") as f:
        read_data = f.read()


"""
pythonçš„pickleæ¨¡å—å®ç°äº†åŸºæœ¬çš„æ•°æ®åºåˆ—å’Œååºåˆ—åŒ–ã€‚
é€šè¿‡pickleæ¨¡å—çš„åºåˆ—åŒ–æ“ä½œæˆ‘ä»¬èƒ½å¤Ÿå°†ç¨‹åºä¸­è¿è¡Œçš„å¯¹è±¡ä¿¡æ¯ä¿å­˜åˆ°æ–‡ä»¶ä¸­å»ï¼Œæ°¸ä¹…å­˜å‚¨ã€‚
é€šè¿‡pickleæ¨¡å—çš„ååºåˆ—åŒ–æ“ä½œï¼Œæˆ‘ä»¬èƒ½å¤Ÿä»æ–‡ä»¶ä¸­åˆ›å»ºä¸Šä¸€æ¬¡ç¨‹åºä¿å­˜çš„å¯¹è±¡ã€‚
"""


def pickle_demo():
    # åºåˆ—åŒ–
    data1 = {'a': [1, 2.0, 3, 4 + 6j],
             'b': ('string', u'Unicode string'),
             'c': None}
    f = open('/Users/ykwl/Desktop/data.pkl', 'wb')
    pickle.dump(data1, f)
    f.close()

    # ååºåˆ—åŒ–
    f = open('/Users/ykwl/Desktop/data.pkl', 'rb')
    data2 = pickle.load(f)
    # Pretty-printï¼Œæ‰“å° æµçš„ Python å¯¹è±¡
    pprint.pprint(data2)
    pass


if __name__ == '__main__':
    # input_demo()

    # write_demo()
    # read_demo()

    # seek_demo()

    # with_as_demo()

    pickle_demo()
    pass
